function getTempData(){document.getElementById("temp-sensor-1").innerHTML="Loading...",document.getElementById("temp-sensor-2").innerHTML="Loading...";var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(e.response),o=t.temp,n=t.humid,s=t.last_updated,r=document.getElementsByClassName("sensor-info-1")[0];if(s-currentTimeUnix()>=3600)console.log("Data is an hour old."),r.hidden=!0;else{console.log("data is up to date"),r.hidden&&(r.hidden=!1);var a="Temperature: "+o+"&#176;F    Humidity: "+n+"%";document.getElementById("temp-sensor-1").innerHTML=a}}else if(4==this.readyState&&200!=this.status){console.log("error = "+e.response);var i=JSON.parse(e.response);document.getElementById("temp-sensor-1").innerHTML=i[0]}},e.open("GET","/getTemp1"),e.send();var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(t.response),o=e.temp,n=e.humid,s=e.last_updated,r=document.getElementsByClassName("sensor-info-2")[0];if(s-currentTimeUnix()>=3600)console.log("Data is an hour old."),r.hidden=!0;else{console.log("data is up to date"),r.hidden&&(r.hidden=!1);var a="Temperature: "+o+"&#176;F    Humidity: "+n+"%";document.getElementById("temp-sensor-2").innerHTML=a}}else if(4==this.readyState&&200!=this.status){console.log("error = "+t.response);var i=JSON.parse(t.response);document.getElementById("temp-sensor-2").innerHTML=i[0]}},t.open("GET","/getTemp2"),t.send()}function getCurrentDate(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function currentTimeUnix(){return Math.floor((new Date).getTime()/1e3)}function setCookie(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var s="expires="+n.toGMTString();document.cookie=e+"="+t+";"+s+";path=/"}function getCookie(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var s=o[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}function setCookie(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var s=o[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}function darkMode(){var e=getCookie("mode");""===e&&(console.log("creating cookie"),setCookie("mode","dark",365),document.body.classList.toggle("dark-mode"));if("light"==e)setCookie("mode","dark",365),document.body.classList.toggle("dark-mode");else if("dark"==e){setCookie("mode","light",365),document.body.classList.toggle("dark-mode")}console.log(e)}function bodyLoadDarkMode(){"dark"==getCookie("mode")&&document.body.classList.toggle("dark-mode")}getTempData(),setInterval(function(){getTempData()},3e5),bodyLoadDarkMode();
